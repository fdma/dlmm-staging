(()=>{var e={};e.id=317,e.ids=[317],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},58140:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c});var s=r(67096),a=r(16132),o=r(37284),i=r.n(o),l=r(32564),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);r.d(t,n);let c=["",{children:["pools",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,45536)),"C:\\Users\\user\\meteora-monitor\\src\\app\\pools\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,89367)),"C:\\Users\\user\\meteora-monitor\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\user\\meteora-monitor\\src\\app\\pools\\page.tsx"],m="/pools/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/pools/page",pathname:"/pools",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},80286:(e,t,r)=>{Promise.resolve().then(r.bind(r,80897))},80897:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>PoolsPage});var s=r(30784),a=r(9885),o=r(51778),i=r(52451),l=r.n(i),n=r(63647),c=r(19037),d=r(24300),m=r(35522),p=r(14839),x=r(54206),h=r(97106);let charts_AprChart=({data:e})=>{let t=(0,a.useMemo)(()=>e.map(e=>({...e,date:new Date(e.timestamp).toLocaleDateString()})),[e]);return s.jsx("div",{className:"h-20 w-full",children:s.jsx(n.h,{width:"100%",height:"100%",children:(0,s.jsxs)(c.w,{data:t,children:[s.jsx("defs",{children:(0,s.jsxs)("linearGradient",{id:"aprGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:.1})]})}),s.jsx(d.q,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(m.K,{dataKey:"date",tick:{fill:"#9CA3AF",fontSize:10},tickLine:{stroke:"#374151"},axisLine:{stroke:"#374151"}}),s.jsx(p.B,{tick:{fill:"#9CA3AF",fontSize:10},tickLine:{stroke:"#374151"},axisLine:{stroke:"#374151"}}),s.jsx(x.u,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"0.375rem"},labelStyle:{color:"#9CA3AF"},itemStyle:{color:"#3B82F6"}}),s.jsx(h.x,{type:"monotone",dataKey:"apr",stroke:"#3B82F6",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#3B82F6"}})]})})})},charts_VolumeChart=({data:e})=>{let t=(0,a.useMemo)(()=>e.map(e=>({...e,date:new Date(e.timestamp).toLocaleDateString()})),[e]);return s.jsx("div",{className:"h-20 w-full",children:s.jsx(n.h,{width:"100%",height:"100%",children:(0,s.jsxs)(c.w,{data:t,children:[s.jsx("defs",{children:(0,s.jsxs)("linearGradient",{id:"volumeGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.8}),s.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:.1})]})}),s.jsx(d.q,{strokeDasharray:"3 3",stroke:"#374151"}),s.jsx(m.K,{dataKey:"date",tick:{fill:"#9CA3AF",fontSize:10},tickLine:{stroke:"#374151"},axisLine:{stroke:"#374151"}}),s.jsx(p.B,{tick:{fill:"#9CA3AF",fontSize:10},tickLine:{stroke:"#374151"},axisLine:{stroke:"#374151"}}),s.jsx(x.u,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"0.375rem"},labelStyle:{color:"#9CA3AF"},itemStyle:{color:"#10B981"}}),s.jsx(h.x,{type:"monotone",dataKey:"volume",stroke:"#10B981",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#10B981"}})]})})})},components_AnimatedCounter=({value:e,duration:t=1e3,decimals:r=2,prefix:o="",suffix:i="",className:l=""})=>{let[n,c]=(0,a.useState)(e),d=(0,a.useRef)(e),m=(0,a.useRef)();(0,a.useEffect)(()=>{if(e===d.current)return;let r=performance.now(),s=d.current,a=e-s,animate=o=>{let i=Math.min((o-r)/t,1);c(s+a*(1-(1-i)*(1-i))),i<1?m.current=requestAnimationFrame(animate):(c(e),d.current=e)};return m.current=requestAnimationFrame(animate),()=>{m.current&&cancelAnimationFrame(m.current)}},[e,t]);let p=n.toLocaleString("en-US",{minimumFractionDigits:r,maximumFractionDigits:r});return(0,s.jsxs)("span",{className:l,children:[o,p,i]})},u=(0,a.memo)(({pool:e,tokenMetadata:t})=>{let[r,o]=(0,a.useState)(!1),[i,n]=(0,a.useState)(null),c=(0,a.useCallback)(()=>{o(e=>!e)},[]),d=(0,a.useCallback)(async e=>{try{await navigator.clipboard.writeText(e),n(e),setTimeout(()=>n(null),2e3)}catch(e){console.error("Failed to copy:",e)}},[]),m=(0,a.useCallback)(e=>e.social?(0,s.jsxs)("div",{className:"flex space-x-2 mt-2",children:[e.social.telegram&&s.jsx("a",{href:e.social.telegram,target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:text-primary-300",children:"Telegram"}),e.social.twitter&&s.jsx("a",{href:e.social.twitter,target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:text-primary-300",children:"Twitter"}),e.social.discord&&s.jsx("a",{href:e.social.discord,target:"_blank",rel:"noopener noreferrer",className:"text-primary-400 hover:text-primary-300",children:"Discord"})]}):null,[]),p=t?.[e.mint_x],x=t?.[e.mint_y];return(0,s.jsxs)("div",{className:"bg-primary-900/50 backdrop-blur-sm rounded-lg border border-primary-800/50 p-4 transition-all duration-300 hover:border-primary-700/50",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[p?.logoURI&&s.jsx("div",{className:"relative w-8 h-8",children:s.jsx(l(),{src:p.logoURI,alt:p.symbol,width:32,height:32,className:"rounded-full",loading:"lazy"})}),x?.logoURI&&s.jsx("div",{className:"relative w-8 h-8",children:s.jsx(l(),{src:x.logoURI,alt:x.symbol,width:32,height:32,className:"rounded-full",loading:"lazy"})}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{className:"text-lg font-medium text-primary-100",children:[p?.symbol,"/",x?.symbol]}),(0,s.jsxs)("p",{className:"text-sm text-primary-400",children:[parseFloat(e.liquidity).toLocaleString()," TVL"]})]})]}),s.jsx("button",{onClick:c,className:"text-primary-400 hover:text-primary-300 transition-colors",children:r?"▼":"▶"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-primary-400",children:"APR"}),s.jsx("p",{className:"text-lg font-medium text-accent-blue",children:s.jsx(components_AnimatedCounter,{value:e.apr,suffix:"%"})}),s.jsx(charts_AprChart,{data:e.aprHistory})]}),(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-primary-400",children:"Volume (24h)"}),(0,s.jsxs)("p",{className:"text-lg font-medium text-accent-green",children:["$",e.volume24h.toLocaleString()]}),s.jsx(charts_VolumeChart,{data:e.volumeHistory})]})]}),r&&(0,s.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm text-primary-400",children:"Pool Address"}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[s.jsx("code",{className:"text-sm text-primary-300",children:e.address}),s.jsx("button",{onClick:()=>d(e.address),className:"text-primary-400 hover:text-primary-300",children:i===e.address?"✓":"\uD83D\uDCCB"})]})]}),p&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm text-primary-400",children:[p.symbol," Info"]}),s.jsx("p",{className:"text-sm text-primary-300",children:p.name}),p.description&&s.jsx("p",{className:"text-sm text-primary-400 mt-1",children:p.description}),m(p)]}),x&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm text-primary-400",children:[x.symbol," Info"]}),s.jsx("p",{className:"text-sm text-primary-300",children:x.name}),x.description&&s.jsx("p",{className:"text-sm text-primary-400 mt-1",children:x.description}),m(x)]})]})]})});u.displayName="PoolCard";let f=process.env.NEXT_PUBLIC_API_URL||"https://api.meteora.ag/v1";async function fetchPools(){try{let e=await fetch(`${f}/pools`);if(!e.ok)throw Error("Failed to fetch pools");let t=await e.json();return t}catch(e){throw console.error("Error fetching pools:",e),e}}let y=process.env.NEXT_PUBLIC_API_URL||"https://api.meteora.ag/v1";async function fetchTokenMetadata(e){try{let t=await fetch(`${y}/tokens/metadata`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({addresses:e})});if(!t.ok)throw Error("Failed to fetch token metadata");let r=await t.json();if(!r.success||!r.data)throw Error(r.error||"Failed to fetch token metadata");return r.data}catch(e){throw console.error("Error fetching token metadata:",e),e}}function PoolsPage(){let[e,t]=(0,a.useState)({}),{data:r,isLoading:i}=(0,o.a)({queryKey:["pools"],queryFn:fetchPools,refetchInterval:3e4});return((0,a.useEffect)(()=>{if(r){let e=new Set;r.forEach(t=>{e.add(t.mint_x),e.add(t.mint_y)});let fetchMetadata=async()=>{let r=await fetchTokenMetadata(Array.from(e));t(r)};fetchMetadata()}},[r]),i)?s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})}):(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-primary-100 mb-8",children:"Pools"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r?.map(t=>s.jsx(u,{pool:t,tokenMetadata:e},t.address))})]})}},45536:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$$typeof:()=>i,__esModule:()=>o,default:()=>n});var s=r(95153);let a=(0,s.createProxy)(String.raw`C:\Users\user\meteora-monitor\src\app\pools\page.tsx`),{__esModule:o,$$typeof:i}=a,l=a.default,n=l},73881:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var s=r(31323);let __WEBPACK_DEFAULT_EXPORT__=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"48x48",url:t+""}]}}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),r=t.X(0,[922,845,798],()=>__webpack_exec__(58140));module.exports=r})();